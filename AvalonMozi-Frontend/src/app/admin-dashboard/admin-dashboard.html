<div class="flex flex-wrap justify-center mt-1">
    <div class="mt-auto">
        <img src="/assets/Logo_Transparent_Colorful_Rectangle.png" class="w-50 md:w-70 lg:w-90" />
    </div>
</div>

<p-card header="Adminisztráció" styleClass="mx-2 md:mx-40 lg:mx-50 xl:mx-100">

    <button pButton [routerLink]="['/admin']" severity="help" class="mb-5">
        <i class="pi pi-arrow-left" pButtonIcon></i>
        <span pButtonLabel>Visszatérés a menübe!</span>
    </button>

    <p-table [value]="movieList" [tableStyle]="{ 'min-width': '50rem' }" stripedRows>
        <ng-template #header>
            <tr>
                <th>Technikai azonosító</th>
                <th>Film</th>
                <th>Műveletek</th>
            </tr>
        </ng-template>
        <ng-template #body let-movie>
            <tr>
                <td>{{ movie.technicalId }}</td>
                <td>{{ movie.title }}</td>
                <td>
                    <p-button label="Szerkesztés" icon="pi pi-pencil"
                        (onClick)="openSelectedMovie(movie.technicalId)" />

                </td>
            </tr>
        </ng-template>
    </p-table>

    <p-dialog header="Film szerkesztése" [modal]="true" [(visible)]="showSelectedMovie">
        <div class="flex items-center gap-4 mb-4">
            <label for="title" class="font-semibold w-24">Film címe</label>
            <input pInputText id="title" class="flex-auto" autocomplete="off" [(ngModel)]="this.selectedMovie.title" />
        </div>
        <div class="flex items-center gap-4 mb-4">
            <label for="seotitle" class="font-semibold w-24">SEO cím</label>
            <input pInputText id="seotitle" class="flex-auto" autocomplete="off"
                [(ngModel)]="this.selectedMovie.seoFriendlyTitle" />
        </div>
        <div class="flex items-center gap-4 mb-4">
            <label for="agerestriction" class="font-semibold w-24">Korhatár</label>
            <input pInputText id="agerestriction" class="flex-auto" autocomplete="off"
                [(ngModel)]="this.selectedMovie.ageRestriction" />
        </div>
        <div class="flex items-center gap-4 mb-4">
            <label for="price" class="font-semibold w-24">Jegyár</label>
            <p-inputNumber id="price" class="flex-auto" autocomplete="off"
                [(ngModel)]="this.selectedMovie.ticketPrice" />
        </div>
        <div class="flex items-center gap-4 mb-4">
            <label class="font-semibold w-24">Leírás</label>
            <textarea rows="10" cols="60" class="flex-auto" pTextarea
                [(ngModel)]="this.selectedMovie.description"></textarea>
        </div>
    </p-dialog>
</p-card>

<p-toast position="top-right"></p-toast>

<app-footer></app-footer>