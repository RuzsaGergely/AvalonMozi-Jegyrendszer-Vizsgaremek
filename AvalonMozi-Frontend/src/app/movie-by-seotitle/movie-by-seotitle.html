<app-header></app-header>

<p-card styleClass="mx-2 md:mx-40 lg:mx-50 xl:mx-100">

<div class="flex">
  <div class="w-40 flex-none">
    <img src="{{movie?.coverImageBase64}}" alt="{{movie?.title}}">
  </div>
  <div class="w-60 flex-1 mx-5">
    <h1 class="text-3xl font-bold">{{movie?.title}}</h1>
    <p class="mt-3">
        {{movie?.description}}
    </p>
    <h2 class="text-xl font-bold mt-3">Vetítési időpontok</h2>
    <p-table [value]="movie?.dates!" stripedRows [tableStyle]="{'min-width': '50rem'}">
        <ng-template #header>
            <tr>
                <th>Nap</th>
                <th>Vetítés kezdete</th>
                <th>Vetítés vége</th>
                <th>Mennyiség</th>
                <th></th>
            </tr>
        </ng-template>
        <ng-template #body let-date>
            <tr>
                <td>{{date.dateFrom | date:"yyyy/MM/dd"}}</td>
                <td>{{date.dateFrom | date:"HH:mm"}}</td>
                <td>{{date.dateTo | date:"HH:mm"}}</td>
                <td><p-inputnumber [showButtons]="true" inputId="minmax-buttons" [min]="0" [max]="100" [(ngModel)]="selectedItems[date.technicalId!].qty" /></td>
                <td><p-button label="Kosárba" icon="pi pi-cart-plus" iconPos="right" (onClick)="addToCart(selectedItems[date.technicalId!].qty, movie!, date)" [disabled]="!(selectedItems[date.technicalId!].qty > 0)" />
            </tr>
        </ng-template>
    </p-table>
  </div>
</div>

</p-card>
<p-toast position="top-right"></p-toast> 


<app-footer></app-footer> 